{% extends 'app/base.html' %}
{% block title %}Dashboard · Appertivo{% endblock %}
{% load static %}
{% block content %}
<style>
    .appertivo-launcher {
      position: absolute;
      bottom: -30px;
      right: -30px;
      width: 70px;
      height: 70px;
      background: linear-gradient(135deg, #B993D6, #f08000);
      border: 0;
      border-radius: 50%;
      box-shadow: 0 8px 25px rgba(185, 147, 214, 0.4);
      z-index: 5;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      color: #ffffff;
      cursor: pointer;
      animation: pulse 2s infinite;
      transition: transform .2s ease, box-shadow .2s ease;
      padding: 0 18px;
      line-height: 1;
      user-select: none;
    }

</style>
  <section class="hero container py-5 py-lg-6">
    <div class="row align-items-top g-4">
      <div class="col-lg-8 px-5">

          <section class="text-white">
          <div class="container text-left">
            <h1 class="display-4 fw-extrabold gradient-text mb-3" data-animate="reveal">Launch specials with ease</h1>
            <p class="lead mb-4">
              <strong>Effortlessly Showcase Your Daily Specials & Boost Sales</strong>
            </p>
            <p class="mb-4">
              Running a restaurant is demanding — promoting limited-time specials shouldn’t add to your stress.
              Appertivo lets you create eye-catching daily specials in seconds and display them right on your website
              with a sleek, floating widget.
            </p>
            <ul class="list-unstyled mb-4 text-start mx-auto" style="max-width: 600px;">
              <li class="mb-2">✅ <strong>Quick & Easy:</strong> Snap a photo, add a description, and publish instantly — no technical skills required.</li>
              <li class="mb-2">✅ <strong>No Login Needed:</strong> Start creating specials immediately with our seamless anonymous profile system.</li>
              <li class="mb-2">✅ <strong>Powerful Widget:</strong> Engage visitors with a beautiful, mobile-friendly widget featuring your specials and direct call-to-action buttons like “Order Now” or “Call to Reserve.”</li>
              <li class="mb-2">✅ <strong>Automated Marketing:</strong> Capture emails effortlessly and keep customers coming back with automated special announcements.</li>
              <li class="mb-2">✅ <strong>AI-Powered Enhancements:</strong> Get smart suggestions to make your specials more compelling and increase conversions.</li>
            </ul>
            
          </div>
        </section>

        <div class="d-flex gap-3">
          <a href="{% url 'special_create' %}" class="btn btn-orange btn-lg px-4 text-white" data-animate="pop">Create a Special</a>
          <a href="{% url 'my_specials' %}" class="btn btn-outline-light btn-lg" data-animate="pop">My Specials</a>
        </div>
      </div>
      <div class="col-lg-4 pe-3">
        <!-- Live preview frame with HTMX swap -->
        <div class="card card-glass shadow-lg" data-animate="float">
          <div id="special-preview-container"
               hx-target="#special-preview-container"
               hx-swap="innerHTML" style="position: relative;">
               <div class="appertivo-launcher"><i class="fa-solid fa-utensils"></i></div>
            <div class="p-5 text-center text-secondary">
                <div id="appertivo-preview"></div>

                <script>
                  // Configure BEFORE loading the widget script
                  window.appertivoConfig = {
                    mount: '#appertivo-preview',   // where to render inline
                    inline: true,                  // render inside the div, not floating
                    openOnLoad: true,              // show as if clicked
                    // optional: inlineWidth: '100%', inlineMaxWidth: '520px'
                  };
                </script>
                <script src="http://127.0.0.1:8000/appertivo-widget.js?restaurant=13&special=83"></script>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="container pb-5">
    <div class="row g-4">
      <div class="col-md-4" data-animate="lift">
        <div class="feature-card p-4 rounded-4 h-100">
          <div class="icon-dot bg-teal"></div>
          <h3 class="h5 mt-3">Create</h3>
          <p class="text-secondary">Snap a pic, add a price, set dates. The rest is automated.</p>
        </div>
      </div>
      <div class="col-md-4" data-animate="lift">
        <div class="feature-card p-4 rounded-4 h-100">
          <div class="icon-dot bg-purple"></div>
          <h3 class="h5 mt-3">Preview</h3>
          <p class="text-secondary">Accurate widget preview before publish—what you see is what your site gets.</p>
        </div>
      </div>
      <div class="col-md-4" data-animate="lift">
        <div class="feature-card p-4 rounded-4 h-100">
          <div class="icon-dot bg-orange"></div>
          <h3 class="h5 mt-3">Publish</h3>
          <p class="text-secondary">One click publish across your site and channels.</p>
        </div>
      </div>
    </div>
  </section>

    <section class="container pb-6">
      <div class="row">
        <div class="col-md-12 mt-5">
          {% include 'app/partials/connection.html' %}
        </div>
        <div class="col-md-12 mt-5">
          {% include 'app/partials/specials_list.html' %}
        </div>
      </div>
    </section>


{% endblock %}

